var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(a){var c=function(){};c.prototype=a;return new c};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},c={};try{return c.__proto__=a,c.a}catch(e){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,c){a.__proto__=c;if(a.__proto__!==c)throw new TypeError(a+" is not extensible");return a}:null;
$jscomp.inherits=function(a,c){a.prototype=$jscomp.objectCreate(c.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var e=$jscomp.setPrototypeOf;e(a,c)}else for(e in c)if("prototype"!=e)if(Object.defineProperties){var h=Object.getOwnPropertyDescriptor(c,e);h&&Object.defineProperty(a,e,h)}else a[e]=c[e];a.superClass_=c.prototype};
$jscomp.findInternal=function(a,c,e){a instanceof String&&(a=String(a));for(var h=a.length,g=0;g<h;g++){var k=a[g];if(c.call(e,k,g,a))return{i:g,v:k}}return{i:-1,v:void 0}};$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,e){a!=Array.prototype&&a!=Object.prototype&&(a[c]=e.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,c,e,h){if(c){e=$jscomp.global;a=a.split(".");for(h=0;h<a.length-1;h++){var g=a[h];g in e||(e[g]={});e=e[g]}a=a[a.length-1];h=e[a];c=c(h);c!=h&&null!=c&&$jscomp.defineProperty(e,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,e){return $jscomp.findInternal(this,a,e).v}},"es6","es3");$jscomp.polyfill("Object.is",function(a){return a?a:function(a,e){return a===e?0!==a||1/a===1/e:a!==a&&e!==e}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,e){var c=this;c instanceof String&&(c=String(c));var g=c.length;for(e=e||0;e<g;e++)if(c[e]==a||Object.is(c[e],a))return!0;return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,c,e){if(null==a)throw new TypeError("The 'this' value for String.prototype."+e+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+e+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,e){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,e||0)}},"es6","es3");
Date.prototype.isWeekend=function(){var a=this.getDay();return 0==a||6==a};String.prototype.padLeft=function(a){return String(a+this).slice(-a.length)};
String.prototype.toTime=function(){var a=this,c=!1,e=!1,h=0,g=0;null!=a?(c=null!==a.match(/p/i),e=null!==a.match(/a/i),a=a.replace(/^00/,"24"),a=parseInt(a.replace(/\D/g,""),10)):a=0;0<a&&24>a?h=a:100<=a&&2359>=a?(h=~~(a/100),g=a%100):2400<=a&&(g=a%100,c=!1);12==h&&!1===e?c=!0:12<h&&(c=!0,h-=12);59<g&&(g=59);return(""+h).padLeft("00")+":"+(""+g).padLeft("00")+" "+(c?"PM":"AM")};(function(a,c,e,h){function g(d,v){this.element=d;this.settings=a.extend({},k,v);this.settings.ivy=this;this._defaults=k;this._name="ivy";this._cell=[0,0];this._$cellInput=!1;this._commandExecutor=new b;this.init()}var k={classActiveCell:"active",classActiveCellInput:"edit",classCellReadOnly:"readonly",maxPageSize:30,dispatchKeysNavigate:[{k:"enter",f:"navigateDown"},{k:"up",f:"navigateUp"},{k:"down",f:"navigateDown"},{k:"left",f:"navigateLeft"},{k:"right",f:"navigateRight"},{k:"ctrl+up",f:"navigateUpSkip"},
{k:"ctrl+down",f:"navigateDownSkip"},{k:"ctrl+left",f:"navigateLeftSkip"},{k:"ctrl+right",f:"navigateRightSkip"},{k:"pageup",f:"navigatePageUp"},{k:"pagedown",f:"navigatePageDown"},{k:"home",f:"navigateRowHome"},{k:"end",f:"navigateRowEnd"},{k:"ctrl+home",f:"navigateHome"},{k:"ctrl+end",f:"navigateEnd"},{k:"shift+tab",f:"navigateLeft"},{k:"tab",f:"navigateRight"},{k:"f2",f:"editStart"},{k:"ctrl+x",f:"editCut"},{k:"ctrl+c",f:"editCopy"},{k:"ctrl+ins",f:"editCopy"},{k:"del",f:"editErase"},{k:"shift+del",
f:"editDeleteRow"},{k:"ins",f:"editInsertRow"},{k:"ctrl+i",f:"editInsertRow"},{k:"command+i",f:"editInsertRow"},{k:"shift+space",f:"editAppendRow"},{k:"ctrl+s",f:"editSave"},{k:"ctrl+z",f:"editUndo"},{k:"command+z",f:"editUndo"},{k:"ctrl+shift+z",f:"editRedo"},{k:"ctrl+y",f:"editRedo"},{k:"command+y",f:"editRedo"}],dispatchKeysEdit:[{k:"up",f:"navigateUp"},{k:"down",f:"navigateDown"},{k:"shift+tab",f:"navigateLeft"},{k:"tab",f:"navigateRight"},{k:"enter",f:"editStop"},{k:"esc",f:"editCancel"}],init:function(){},
refreshCells:function(){},onCellValueChangeBefore:function(d,a,b){return d},onCellValueChangeAfter:function(d,a){},onRowInsertAfter:function(d,a){},onRowAppendAfter:function(d,a){},onRowDeleteAfter:function(d){}};a.extend(g.prototype,{init:function(){this.settings.init();this.refreshCells();this.setup();this.bindNavigateMode();this.bindPrintableKeys();this.bindNavigationClicks();this.bindPasteHandler();this.activate()},refreshCells:function(){this.settings.refreshCells()},setup:function(){Mousetrap.prototype.stopCallback=
function(d,a,b){d.preventDefault();return!1}},navigateTableCell:function(d){var a=d.parent().children().index(d);d=d.parent().parent().children().index(d.parent());!1===this.isActiveCell(d,a)&&this.navigate(d,a)},bindNavigationClicks:function(){var d=this,b=a(d.getTableBodyElement());b.on("click","td",function(){d.navigateTableCell(a(this))});b.on("dblclick doubletap","td",function(){d.navigateTableCell(a(this));d.editStart()})},bindPrintableKeys:function(){var d=this;a(d.getTableBodyElement()).on("keypress",
function(a){var b="number"===typeof a.which?a.which:a.keyCode;"keypress"!==a.type||!b||a.ctrlKey||a.metaKey||(d.editStart(String.fromCharCode(b)),a.stopPropagation(),a.preventDefault())})},unbindPrintableKeys:function(){a(this.getTableBodyElement()).off("keypress")},_bindDispatchKeys:function(d){Mousetrap.reset();for(var a=this,b={},f=0;f<d.length;b={f:b.f},f++){var e=d[f].k;b.f=d[f].f;Mousetrap.bind(e,function(d){return function(b){a[d.f]()}}(b))}},bindNavigateMode:function(){this._bindDispatchKeys(this.settings.dispatchKeysNavigate)},
bindEditMode:function(){this._bindDispatchKeys(this.settings.dispatchKeysEdit)},bindPasteHandler:function(){var d=this;a(e).on("paste",function(a){if(a.originalEvent){var b=a.originalEvent.clipboardData.getData("text");d.cellUpdate(b);a.stopPropagation();a.preventDefault()}})},_sanitizeCellIndex:function(d,a){return d>a?a:0>d?0:d},getTableBodyElement:function(){return a(this.element)[0]},getCellRow:function(){return this._cell[0]},getCellCol:function(){return this._cell[1]},setCellRow:function(d){this._cell[0]=
this._sanitizeCellIndex(d,this.getMaxRows())},setCellCol:function(d){this._cell[1]=this._sanitizeCellIndex(d,this.getMaxCols())},getCell:function(d,a){return this.getTableBodyElement().rows[d].cells[a]},getCellLastRow:function(d){var a=this.getMaxRows();return this.getCell(a,d)},getActiveCell:function(){var d=this.getCellRow(),a=this.getCellCol();return this.getCell(d,a)},getMaxRows:function(){return this.getTableBodyElement().rows.length-1},getMaxCols:function(){return this.getTableBodyElement().rows[0].cells.length-
1},isActiveCell:function(d,a){return this.isActiveCellRow(d)&&this.isActiveCellCol(a)},isActiveCellRow:function(d){return d===this.getCellRow()},isActiveCellCol:function(d){return d===this.getCellCol()},isActiveCellReadOnly:function(){return a(this.getActiveCell()).hasClass(this.settings.classCellReadOnly)},activate:function(){this.setCellRow(this.getCellRow());this.setCellCol(this.getCellCol());a(this.getActiveCell()).addClass(this.settings.classActiveCell)},deactivate:function(){a(this.getActiveCell()).removeClass(this.settings.classActiveCell)},
cellStateRetrieve:function(){var d=a(this.getActiveCell());return{cellRow:this.getCellRow(),cellCol:this.getCellCol(),cellValue:d.text()}},cellStateRestore:function(d){this._navigate(d.cellRow,d.cellCol);this.setActiveCellValue(d.cellValue)},getCommandExecutor:function(){return this._commandExecutor},execute:function(d){this.getCommandExecutor().execute(d)},focus:function(){a(this.getTableBodyElement()).focus()},_navigate:function(d,a){this.deactivate();this.setCellRow(d);this.setCellCol(a);this.activate();
this.focus()},navigate:function(d,a){this.editStop();this.execute(new p(this,d,a))},navigateRow:function(a){this.navigate(this.getCellRow()+a,this.getCellCol())},navigateCol:function(a){this.navigate(this.getCellRow(),this.getCellCol()+a)},navigatePageUp:function(){this.navigateRow(-this.settings.maxPageSize)},navigatePageDown:function(){this.navigateRow(+this.settings.maxPageSize)},navigateUp:function(){this.navigateRow(-1)},navigateDown:function(){this.navigateRow(1)},navigateLeft:function(){this.navigateCol(-1)},
navigateRight:function(){this.navigateCol(1)},navigateUpSkip:function(){console.log("Navigate up skip");this.navigateRow(-1)},navigateDownSkip:function(){console.log("Navigate down skip");this.navigateRow(1)},navigateLeftSkip:function(){console.log("Navigate left skip");this.navigateCol(-1)},navigateRightSkip:function(){console.log("Navigate right skip");this.navigateCol(1)},navigateHome:function(){this.navigate(0,0)},navigateEnd:function(){this.navigate(1E3,1E3)},navigateRowHome:function(){this.navigateCol(-1E3)},
navigateRowEnd:function(){this.navigateCol(1E3)},editCut:function(){this.execute(new q(this))},editCopy:function(){var d=a("<input>"),b=a(this.getActiveCell());a("body").append(d);d.val(b.text()).select();e.execCommand("copy");d.remove()},editErase:function(){this.cellUpdate("")},cellUpdate:function(a){this.isActiveCellReadOnly()||this.execute(new r(this,a))},cellInputCreate:function(d,b){d.addClass(this.settings.classActiveCellInput);var f=d.width();d=b?b:d.text();b=a("<input>");b.css({width:f,"max-width":f});
b.val(d);return b},cellInputDestroy:function(){var a=this.getCellInput(),b=a.val();a.remove();this.setCellInput(!1);return b},getCellInput:function(){return this._$cellInput},setCellInput:function(a){this._$cellInput=a},editStart:function(a){this.isActiveCellReadOnly()||this.execute(new t(this,a))},editStop:function(){var d=!1;!1!==this.getCellInput()&&(d=this.cellInputDestroy(),a(this.getActiveCell()).removeClass(this.settings.classActiveCellInput),this.setActiveCellValue(d),this.focus(),this.bindNavigateMode(),
this.bindPrintableKeys(),d=!0);return d},setCellValue:function(d,b,f){d=this.settings.onCellValueChangeBefore(d,b,f);a(this.getCell(b,f)).text(d);this.settings.onCellValueChangeAfter(b,f)},setActiveCellValue:function(a){var d=this.getCellRow(),b=this.getCellCol();this.setCellValue(a,d,b)},setActiveCellValueSilent:function(d){console.log("setActiveCellValueSilent "+d);if(!1!==d){var b=this.getActiveCell();a(b).text(d)}},editCancel:function(){this.editStop()&&this.editUndo()},editSave:function(){console.log("Save cells")},
editInsertColumn:function(a){this.execute(new u(this,a))},editDeleteColumn:function(a){this.execute(new CommandDeleteColumn(this,a))},editInsertRow:function(){this.execute(new l(this))},editDeleteRow:function(){0<this.getMaxRows()&&this.execute(new m(this))},editAppendRow:function(){this.execute(new n(this))},editUndo:function(){this.getCommandExecutor().undo()},editRedo:function(){this.getCommandExecutor().redo()}});var b=function(){this._undoStack=[];this._redoStack=[]};b.prototype.getUndoStack=
function(){return this._undoStack};b.prototype.getRedoStack=function(){return this._redoStack};b.prototype.execute=function(a){a.execute();var d=this.getUndoStack(),b=d.peek();a.equals(b)||d.push(a)};b.prototype.undo=function(){var a=this.getUndoStack().pop();"undefined"!==typeof a&&(a.undo(),this.getRedoStack().push(a))};b.prototype.redo=function(){var a=this.getRedoStack().pop();"undefined"!==typeof a&&this.execute(a)};var f=function(a){this._plugin=a;this.saveState()};f.prototype.execute=function(){};
f.prototype.equals=function(a){return"undefined"===typeof a?!1:Object.equals(this.getState(),a.getState())};f.prototype.undo=function(){var a=this.getPlugin();a.cellStateRestore(this.getState());a.refreshCells()};f.prototype.getId=function(){return(new Date).getTime()};f.prototype.saveState=function(){this.setState(this.getPlugin().cellStateRetrieve())};f.prototype.setState=function(a){this._state=a};f.prototype.getState=function(){return this._state};f.prototype.getPlugin=function(){return this._plugin};
var p=function(a,b,e){a=f.call(this,a)||this;a._row=b;a._col=e;return a};$jscomp.inherits(p,f);p.prototype.execute=function(){this.getPlugin()._navigate(this._row,this._col)};var q=function(a){return f.call(this,a)||this};$jscomp.inherits(q,f);q.prototype.execute=function(){var a=this.getPlugin();a.editCopy();a.editErase()};var t=function(a,b){a=f.call(this,a)||this;a._charCode=b;return a};$jscomp.inherits(t,f);t.prototype.execute=function(){var d=this.getPlugin();d.bindEditMode();d.unbindPrintableKeys();
var b=a(d.getActiveCell()),f=d.cellInputCreate(b,this._charCode);console.log(b.html());d.setCellInput(f);b.html(f);f.focus();f.on("focusout",function(){d.editStop()})};var r=function(a,b){a=f.call(this,a)||this;a._cellValue=b;return a};$jscomp.inherits(r,f);r.prototype.execute=function(){this.getPlugin().setActiveCellValue(this._cellValue)};var u=function(a,b){a=f.call(this,a)||this;a._columnName=b;return a};$jscomp.inherits(u,f);u.prototype.execute=function(){var b=this.getPlugin();b.deactivate();
a(b.getTableBodyElement()).parent().find("thead");b.activate()};var l=function(a){return f.call(this,a)||this};$jscomp.inherits(l,f);l.prototype.execute=function(){var a=this.getPlugin();a.deactivate();var b=this.getRow().clone();this.setState({id:this.getId(),clone:b});this.inject(b);a.activate()};l.prototype.inject=function(a){var b=this.getRow();b.after(a);this.getPlugin().settings.onRowInsertAfter(b,a)};l.prototype.undo=function(){this.getState().clone.remove();this.getPlugin().refreshCells()};
l.prototype.getRow=function(){return a(this.getPlugin().getActiveCell()).closest("tr")};var n=function(a){return l.call(this,a)||this};$jscomp.inherits(n,l);n.prototype.inject=function(a){var b=this.getRow();b.after(a);this.getPlugin().settings.onRowAppendAfter(b,a)};n.prototype.getRow=function(){return a(this.getPlugin().getTableBodyElement()).find("tr:last")};var m=function(a){return f.call(this,a)||this};$jscomp.inherits(m,f);m.prototype.execute=function(){var b=this.getPlugin();b.deactivate();
var f=a(b.getActiveCell()).closest("tr");this.setState({id:this.getId(),row:f});f.remove();b.settings.onRowDeleteAfter(f);b.refreshCells();b.activate()};m.prototype.undo=function(){var a=this.getPlugin();a.editInsertRow();a.refreshCells()};a.fn.ivy=function(b){var d;this.each(function(){a.data(this,"plugin_ivy")||(d=new g(this,b),a.data(this,"plugin_ivy",d))});return d};c.Plugin=g})(jQuery,window,document);Array.prototype.peek=function(){return this[this.length-1]};
Object.equals=function(a,c){if(!(a instanceof Object&&c instanceof Object))return!1;for(var e in a)if(a.hasOwnProperty(e)&&(!c.hasOwnProperty(e)||a[e]!==c[e]&&!Object.equals(a[e],c[e])))return!1;return!0};$(document).ready(function(){$(".ivy-export-csv").exportable({data_table:"#ivy tbody",filename:"timesheet.csv"});$(".ivy-export-json").exportable({data_table:"#ivy tbody",filename:"timesheet.json"});var a={formats:{format_time:"hh:mm A",format_date:"YYYY-MM-DD",format_prec:2},weekdays:[{weekday:1,times:[{began:"745",ended:"930"},{began:"930",ended:"1000"},{began:"1000",ended:"345p"}]}],inclusion:{weekends:!1,holidays:!1},columns:["Description","JIRA"]},c=$("#ivy tbody").ivy({preferences:a,init:function(){var a=
this,b=this.ivy,f=this.preferences,e=b.settings.classCellReadOnly;b=$(b.getTableBodyElement());var c="<tr>";b.prev("thead").find("tr:first th").each(function(b){c+="<td";[0,3,4].includes(b)?(c+=' class="'+e+'">',0===b&&(b=moment().startOf("month").subtract(1,"day"),b=a.getNextWorkDay(b),c+=b.format(f.formats.format_date))):c+=">";c+="</td>"});c+="</tr>";b.append(c)},getNextWorkDay:function(a){var b=this.preferences;a=a.clone();do a.add(1,"day");while(!b.inclusion.weekends&&a.toDate().isWeekend());
return a},refreshCells:function(){for(var a=this.ivy.getMaxRows(),b=0;b<=a;b++)this.onCellValueChangeAfter(b,1)},onCellValueChangeBefore:function(a,b,f){if(1===f||2===f)a=a.toTime();return a},onCellValueChangeAfter:function(a,b){if(1===b||2===b){b=this.ivy;var f=this.preferences,c=this.updateCellTime(a,1),e=this.updateCellTime(a,2,c,60);c=moment.duration(e.diff(c)).asHours();c.toFixed&&(c=Math.abs(c).toFixed(f.formats.format_prec));$(b.getCell(a,3)).text(c);a=this.findConsecutive(a,0);f=this.sumConsecutive(a);
$(b.getCell(a[0],4)).text(f)}},onRowInsertAfter:function(a,b){a=this.ivy;var f=b.find("td:eq(2)").text();b.find("td:not(:first-child)").empty();b=b.index();a.setCellValue(f,b,1);a.refreshCells()},onRowAppendAfter:function(a,b){var f=this.ivy;b=b.find("td:first");var c=moment(b.text()),e=c.month();c=this.getNextWorkDay(c);var g=c.month();e===g?b.text(c.format(this.preferences.formats.format_date)):a.remove();f.refreshCells()},updateCellTime:function(a,b,f,c){var e=this.preferences;a=$(this.ivy.getCell(a,
b));b=a.text();""==b&&(b=moment(f).add(c,"minutes"),b=b.format(e.formats.format_time),a.text(b));return moment.utc(b,e.formats.format_time)},findConsecutive:function(a,b){for(var f=this.ivy,c=a,e=$(f.getCell(a,b)).text(),g=e;e==g&&0<=--c;)g=$(f.getCell(c,b)).text();var h=c+1,k=f.getMaxRows();c=a;for(g=e;e==g&&++c<k;)g=$(f.getCell(c,b)).text();return[h,c-1]},sumConsecutive:function(a){for(var b=this.ivy,c=this.preferences,e=0,g=a[0];g<=a[1];g++)e+=parseFloat($(b.getCell(g,3)).text(),10)||0;e.toFixed&&
(e=e.toFixed(c.formats.format_prec));return e}});$.extend(!0,c,{editAppendMonth:function(){var a=this.getMaxRows(),b=$(this.getCell(a,0));b=moment(b.text());for(a=b.month();a===b.add(1,"day").month();)this.editAppendRow(),b=$(this.getCellLastRow(0)),b=moment(b.text())}});$("#settings").dialog({dialogClass:"settings-dialog",autoOpen:!1,maxHeight:.75*$(window).height(),height:"auto",width:"auto",position:{my:"right top",at:"right top",of:window}});$(".app-settings-preferences").on("click",function(a){$("#settings").dialog("open")});
for(var e=[{a:"edit-cut",f:"Cut"},{a:"edit-copy",f:"Copy"},{a:"edit-undo",f:"Undo"},{a:"edit-redo",f:"Redo"},{a:"insert-shift",f:"InsertRow"},{a:"delete-row",f:"DeleteRow"},{a:"append-day",f:"AppendRow"},{a:"append-days",f:"AppendMonth"}],h=e.length,g={i:0};g.i<h;g={i:g.i},g.i++)$(".app-"+e[g.i].a).on("click",function(a){return function(b){c["edit"+e[a.i].f]()}}(g));h=document.getElementById("editor");new JSONEditor(h,{theme:"jqueryui",disable_collapse:!0,disable_edit_json:!0,disable_properties:!0,
disable_array_reorder:!0,disable_array_delete_all_rows:!0,disable_array_delete_last_row:!0,required_by_default:!0,no_additional_properties:!0,remove_empty_properties:!0,schema:{title:"Preferences",type:"object",properties:{weekdays:{type:"array",title:"Weekdays",format:"table",uniqueItems:!0,items:{type:"object",required:"weekday",properties:{weekday:{title:"Weekday",type:"string","enum":[0,1,2,3,4,5,6],options:{enum_titles:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")}},times:{title:"Times",
type:"array",format:"table",items:{type:"object",properties:{began:{type:"string",title:"Began","default":"08:00 AM"},ended:{type:"string",title:"Ended","default":"04:00 PM"}}}}}}},formats:{title:"Format",type:"object",properties:{format_time:{type:"string",title:"Time","default":"HH:mm A"},format_date:{type:"string",title:"Date","default":"YYYY-MMM-DD"},format_prec:{type:"integer",title:"Precision","default":2}}},inclusion:{type:"object",title:"Include",properties:{weekends:{type:"boolean",title:"Weekends",
format:"checkbox","default":!1},holidays:{type:"boolean",title:"Holidays",format:"checkbox","default":!1}}},columns:{type:"array",title:"Columns",format:"tabs",maxItems:3,items:{type:"string",title:"Column"}}}},startval:a})});(function(a,c,e,h){function g(b,c){this.element=b;this.settings=a.extend({},k,c);this._defaults=k;this._name="exportable";this.init()}var k={source:"table",filename:"export.csv",exports:{csv:{file_extension:"csv",media_type_text:"text/csv",media_type_data:"application/csv",col_delimiter:'","',row_delimiter:'"\r\n"',temp_col_delimiter:String.fromCharCode(11),temp_row_delimiter:String.fromCharCode(0)},json:{file_extension:"json",media_type_text:"text/plain",media_type_data:"application/json"}},charset:"utf-8"};
a.extend(g.prototype,{init:function(){var b=this,c=b.settings.filename,e=c.slice((c.lastIndexOf(".")-1>>>0)+2);a(b.element).on("click tap",function(a){b[e]()})},csv:function(){var b=this.settings,c=b.exports,e=c.csv.temp_row_delimiter,g=c.csv.temp_col_delimiter,h=c.csv.row_delimiter,k=c.csv.col_delimiter;b='"'+a(b.source).find("tr:has( td )").map(function(b,c){return a(c).find("td").map(function(b,c){return a(c).text().replace(/"/g,'""')}).get().join(g)}).get().join(e).split(e).join(h).split(g).join(k)+
'"';this.download(b,c.csv)},json:function(){var b=this.settings,c=b.source,e=[];a.each(a(c).parent().find("thead > tr > th"),function(b,c){e.push(a(c).text().toLowerCase())});var g=[];a.each(a(c).find("tbody > tr"),function(b,f){var h={};a.each(a(c).find("td"),function(b,c){h[e[b]]=a(this).text().trim()});g.push(h)});g=JSON.stringify(g);this.download(g,b.exports.json)},download:function(b,e){var f=this.settings;c.Blob&&c.URL?(b=new Blob([b],{type:e.meda_type_text+"; charset="+f.charset}),b=URL.createObjectURL(b)):
b="data:"+e.media_type_data+"; charset="+f.charset+","+encodeURIComponent(b);a(this.element).attr({download:f.filename,href:b,target:""})},table_import:function(){}});a.fn.exportable=function(b){var c;this.each(function(){a.data(this,"plugin_exportable")||(c=new g(this,b),a.data(this,"plugin_exportable",c))});return c};c.Plugin=g})(jQuery,window,document);
